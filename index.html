<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sana Özrüm</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#ff9a9e;
  --bg2:#fad0c4;
  --text:#2d2d2d;
  --accent:#ff4757;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  color:var(--text);
  display:flex;flex-direction:column;min-height:100vh;
}
header{
  flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;
  text-align:center;padding:2rem;
}
h1{font-size:clamp(2.2rem,6vw,4rem);margin-bottom:1rem;}
p.lead{font-size:clamp(1.1rem,3vw,1.6rem);max-width:50ch;margin-bottom:2rem;}
.heart{width:90px;height:80px;position:relative;animation:beat 1.4s infinite;}
.heart::before,.heart::after{content:"";position:absolute;width:90px;height:140px;background:#ff6b81;border-radius:50px 50px 0 0;}
.heart::before{transform:rotate(-45deg);transform-origin:0 100%;}
.heart::after{left:90px;transform:rotate(45deg);transform-origin:100% 100%;}
@keyframes beat{0%,20%,40%,60%,80%,100%{transform:scale(1);}10%,30%,50%,70%,90%{transform:scale(1.1);}}
section{padding:4rem 1.5rem;}
section h2{text-align:center;font-size:2rem;margin-bottom:1.5rem;}
/* Promises */
.promises{max-width:800px;margin:auto;list-style:none;padding-left:0;}
.promises li{margin-bottom:1rem;font-size:1.1rem;line-height:1.4;display:flex;align-items:center;gap:.6rem;}
.promises input[type="checkbox"]{width:20px;height:20px;cursor:pointer;accent-color:var(--accent);}
/* Progress bar */
.progress-wrapper{max-width:600px;margin:2rem auto;}
.progress-label{text-align:center;margin-bottom:.5rem;font-weight:600;}
.progress{width:100%;height:18px;background:rgba(255,255,255,.4);border-radius:9px;overflow:hidden;}
.progress-inner{height:100%;background:var(--accent);width:0%;transition:width .3s ease;}
/* Letter */
.letter{font-family:'Great Vibes',cursive;font-size:2.2rem;max-width:650px;margin:2rem auto;background:rgba(255,255,255,.25);backdrop-filter:blur(4px);padding:2rem 1.5rem;border-radius:18px;line-height:1.3;text-align:center;cursor:pointer;}
footer{margin-top:auto;text-align:center;padding:2rem 1rem;background:rgba(255,255,255,.4);backdrop-filter:blur(6px);}
.countdown{font-size:clamp(1.4rem,4vw,2.2rem);font-weight:600;text-align:center;margin-top:1rem;}
</style>
</head>
<body>
<header>
  <div class="heart"></div>
  <h1>Özür Dilerim, <span id="name">Berra</span></h1>
  <p class="lead">Seni kırdığımın farkındayım ve bunu telafi etmek için buradayım. Kelimeler yetmez ama yine de deneyeceğim.</p>
</header>

<section>
  <h2>Sana Söz</h2>
  <ul id="promises" class="promises">
    <li><label><input type="checkbox">Seni dinlemeden asla karar vermeyeceğim.</label></li>
    <li><label><input type="checkbox">Her hafta sana özel zaman planlayacağım.</label></li>
    <li><label><input type="checkbox">Hatalarımı sahiplenip 48 saat içinde telafi edeceğim.</label></li>
    <li><label><input type="checkbox">Her gün seni güldürecek bir şey yapacağım.</label></li>
    <li><label><input type="checkbox">Geleceğimizi birlikte tasarlamak için fikirlerine öncelik vereceğim.</label></li>
  </ul>

  <div class="progress-wrapper">
    <div id="progressLabel" class="progress-label">Tamamlanma: 0%</div>
    <div class="progress"><div id="progressInner" class="progress-inner"></div></div>
  </div>
</section>

<section>
  <h2>Bir Sonraki Buluşmamıza Kalan</h2>
  <div id="countdown" class="countdown">--</div>
</section>

<footer>
  <div id="letter" class="letter" title="Tıkla, konfeti yağsın!">
    <p>Berra,</p>
    <p>Gülüşün sabah ışığımı yakar, sesin akşam huzurumu yumuşatır. Varlığın, her nefesime anlam katıyor. Seni seviyorum.</p>
  </div>
</footer>

<!-- Canvas-confetti CDN -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
// Countdown
(function(){
  const el=document.getElementById('countdown');
  const target=new Date('2025-09-01T20:00:00+02:00').getTime();
  function pad(n){return n.toString().padStart(2,'0');}
  function run(){
    const diff=target-Date.now();
    if(diff<=0){el.textContent='Buluşma zamanı!';clearInterval(t);return;}
    const d=Math.floor(diff/864e5),h=Math.floor(diff%864e5/36e5),m=Math.floor(diff%36e5/6e4),s=Math.floor(diff%6e4/1e3);
    el.textContent=`${d} gün ${pad(h)} saat ${pad(m)} dakika ${pad(s)} saniye kaldı`;
  }
  const t=setInterval(run,1e3);run();
})();

// Confetti on letter click
const letter=document.getElementById('letter');
letter.addEventListener('click',()=>{
  confetti({particleCount:140,spread:90,origin:{y:0.6}});
});

// Promise progress bar logic
(function(){
  const STORAGE_KEY='promiseChecks';
  const boxes=[...document.querySelectorAll('#promises input[type="checkbox"]')];
  const bar=document.getElementById('progressInner');
  const label=document.getElementById('progressLabel');

  // Load saved state
  const saved=JSON.parse(localStorage.getItem(STORAGE_KEY)||'[]');
  boxes.forEach((b,i)=>{b.checked=!!saved[i];});

  function update(){
    const total=boxes.length;
    const done=boxes.filter(b=>b.checked).length;
    const percent=Math.round(done/total*100);
    bar.style.width=percent+'%';
    label.textContent=`Tamamlanma: ${percent}%`;
  }

  boxes.forEach((b,i)=>b.addEventListener('change',()=>{
    const state=boxes.map(box=>box.checked);
    localStorage.setItem(STORAGE_KEY,JSON.stringify(state));
    update();
  }));

  update();
})();
</script>

</body>
</html>
